# 1.38

## 练习 1.38 在1737年，瑞士数学家莱昂哈德·欧拉发表了一篇论文 De Fractionibus Continuis，文中包含了e-2的一个连分式展开，其中的e是自然对数的底。在这一分式中，$$N_i$$ 全都是1，而$$D_i$$依次为1，2，1，1，4，1，1，6，1，1，8，……。请写出一个程序，其中使用你在练习1.37中所做的cont-frac过程，并能基于欧拉的展开式求出e的近似值。

```eval-scheme
(define (d i)
    (if (= 2 (mod i 3)) (* 2 (ceiling (/ i 3))) 1)
)
(d 1)
```
```eval-scheme
(d 2)
```
```eval-scheme
(d 3)
```
```eval-scheme
(d 4)
```
```eval-scheme
(d 5)
```
```eval-scheme
(d 6)
```
```eval-scheme
(d 7)
```
```eval-scheme
(d 8)
```
```eval-scheme
(d 9)
```
```eval-scheme
(d 10)
```
```eval-scheme
(d 11)
```

```eval-scheme
(define (cont-frac n d k)
    (define (g i k) 
        (if (= i k) (/ (n k) (d k))
            (/ (n i) (+ (d i) (g (+ i 1) k)))
        )
    )

    (g 1 k)
)

(cont-frac (lambda (i) 1.0)
            d
            1)
```

$$
    f(1) = \frac{1}{1} = 1
$$

$$
    f(2) = \frac{1}{1 + \frac{1}{2}} = \frac{2}{3} 
$$
```eval-scheme
(cont-frac (lambda (i) 1.0)
            d
            2)
```
$$
    f(3) = \frac{1}{1 + \frac{1}{2+\frac{1}{1}}} = \frac{1}{1 + \frac{1}{3}} = \frac{3}{4}
$$
```eval-scheme
(cont-frac (lambda (i) 1.0)
            d
            3)
```
$$
    令 g(k, k) = \frac{N_k}{D_k}
$$
$$
    g(i, k) = \frac{N_i}{D_i + g(i+1, k)}
$$
$$
    f(k) = \frac{N_1}{D_1 + \frac{N_2}{\ddots + \frac{N_k}{D_k}}} = \frac{N_1}{D_1 + \frac{N_2}{\ddots + g(k, k)}} = \frac{N_1}{D_1 + g(2, k)} = g(1, k)
$$
e = 
```eval-scheme
(+ 2 (cont-frac (lambda (i) 1.0)
            d
            50))
```