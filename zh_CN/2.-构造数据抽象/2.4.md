# 2.4

## 练习 2.4 请证明，如果将 a 和 b 的序对表示为乘积 2<sup>a</sup> 3<sup>b</sup> 对应的整数，我们就可以只用非负整数和算术运算表示序对。请给出对应的过程 cons、car 和 cdr 的定义。


### 先来试一试：

<div id="scheme-1">
(define (cons a b) (* (expt 2 a) (expt 3 b)))
(display (cons 2 3))
</div>

注意到以上结果是 108。要从 108 反推出 a 和 b，只需要将它除以 2 和 3，看分别能被整除几次即可。

由于 108 除以 2 是 54，54 再除以 2 是 27，27 不能再被 2 整除，于是 108 可以被 2 整除两次，即 a = 2。

又由于 108 除以 3 是 36，36 再除以 3 是 9，9 不能再被 3 整除，于是 108 可以被 3 整除两次，即 b = 3。

<div id="scheme-2">(define (cons a b) (* (expt 2 a) (expt 3 b)))
(display (cons 2 3))
(newline)

(define (number-of-division n divisor) (if (= n (ceil n)) (+ 1 (number-of-division (/ n divisor) divisor)) 0))

(define (car r) (- (number-of-division r 2) 1))
(define (cdr r) (- (number-of-division r 3) 1))

(define r (cons 2 3))
(newline)
(display "r is ") (display r)
(newline)
(display "car r is ") (display (car r))
(newline)
(display "cdr r is ") (display (cdr r))
</div>










<link rel="stylesheet" type="text/css" href="../../coding-js/deps/codemirror/lib/codemirror.css" />
<link rel="stylesheet" type="text/css" href="../../coding-js/coding.css" />
<link rel="stylesheet" type="text/css" href="../../coding-js/base.css" />

<script src="../../coding-js/deps/codemirror/lib/codemirror.js"></script>
<script src="../../coding-js/deps/jquery.min.js"></script>
<script src="../../coding-js/coding.js"> </script>

<script src="../../coding-js/deps/codemirror/mode/scheme/scheme.js"></script>

<script>
  c = new CodingJS('../../coding-js/');
</script>

<script>
      c.prompt("scheme-1");
      c.prompt("scheme-2");
</script>